import{h as A,P as _,$ as q,ab as He,a9 as We,j as Q,v as G,x as me,ac as ce,w as R,D as Fe,z as ue,k as c,aG as ke,aE as Oe,aF as Pe,B as L,r as j,e as Re,f as Ve,aw as tt,n as D,t as Xe,l as be,p as xe,aZ as Te,a_ as Me,aj as Ce,au as nt,ag as Ge,a$ as at,ai as ot,a2 as lt,az as De,a0 as Le,ak as ge,Z as we,o as E,G as de,E as N,aO as Ke,I as T,K as F,H as he,b0 as it,F as Y,d as U,Q as ye,J as Z,aX as rt,aY as st,b1 as ct,aS as dt,_ as Ue,b2 as ut,b3 as mt,b4 as ft,b5 as pt,b6 as gt,X as vt,N as ht,b7 as yt,b8 as bt,O as ze,b9 as $t,ba as St,bb as _t}from"./permission.js";import{W as Ct,l as ve,A as wt,g as xt}from"./v3-infinite-loading.es.js";import{a as It,e as kt,b as Ot}from"./index14.js";import{P as Pt}from"./index13.js";import{C as Tt,R as Mt}from"./Col.js";import{o as Ye,K as Dt,P as Lt,c as zt,M as Bt}from"./index9.js";import{i as Ie,d as Et,N as Nt}from"./styleChecker.js";import{r as Be}from"./responsiveObserve.js";import{i as Ee}from"./isNumeric.js";import{l as At}from"./logo.js";import{l as jt}from"./linked-crm2.js";import"./index11.js";import"./LeftOutlined.js";import"./FormItemContext.js";const qe=()=>({prefixCls:String,width:_.oneOfType([_.string,_.number]),height:_.oneOfType([_.string,_.number]),style:{type:Object,default:void 0},class:String,rootClassName:String,rootStyle:q(),placement:{type:String},wrapperClassName:String,level:{type:[String,Array]},levelMove:{type:[Number,Function,Array]},duration:String,ease:String,showMask:{type:Boolean,default:void 0},maskClosable:{type:Boolean,default:void 0},maskStyle:{type:Object,default:void 0},afterVisibleChange:Function,keyboard:{type:Boolean,default:void 0},contentWrapperStyle:He(),autofocus:{type:Boolean,default:void 0},open:{type:Boolean,default:void 0},motion:We(),maskMotion:q()}),Ht=()=>A(A({},qe()),{forceRender:{type:Boolean,default:void 0},getContainer:_.oneOfType([_.string,_.func,_.object,_.looseBool])}),Wt=()=>A(A({},qe()),{getContainer:Function,getOpenCount:Function,scrollLocker:_.any,inline:Boolean});function Ft(e){return Array.isArray(e)?e:[e]}const Rt={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend"};Object.keys(Rt).filter(e=>{if(typeof document>"u")return!1;const t=document.getElementsByTagName("html")[0];return e in(t?t.style:{})})[0];const Vt=!(typeof window<"u"&&window.document&&window.document.createElement);var Xt=globalThis&&globalThis.__rest||function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(a[n[o]]=e[n[o]]);return a};const Gt=Q({compatConfig:{MODE:3},inheritAttrs:!1,props:Wt(),emits:["close","handleClick","change"],setup(e,t){let{emit:a,slots:n}=t;const o=G(),m=G(),p=G(),d=G(),C=G();let f=[];`${Number((Date.now()+Math.random()).toString().replace(".",Math.round(Math.random()*9).toString())).toString(16)}`,me(()=>{ce(()=>{var l;const{open:g,getContainer:v,showMask:O,autofocus:k}=e,I=v==null?void 0:v();y(e),g&&(I&&(I.parentNode,document.body),ce(()=>{k&&u()}),O&&((l=e.scrollLocker)===null||l===void 0||l.lock()))})}),R(()=>e.level,()=>{y(e)},{flush:"post"}),R(()=>e.open,()=>{const{open:l,getContainer:g,scrollLocker:v,showMask:O,autofocus:k}=e,I=g==null?void 0:g();I&&(I.parentNode,document.body),l?(k&&u(),O&&(v==null||v.lock())):v==null||v.unLock()},{flush:"post"}),Fe(()=>{var l;const{open:g}=e;g&&(document.body.style.touchAction=""),(l=e.scrollLocker)===null||l===void 0||l.unLock()}),R(()=>e.placement,l=>{l&&(C.value=null)});const u=()=>{var l,g;(g=(l=m.value)===null||l===void 0?void 0:l.focus)===null||g===void 0||g.call(l)},i=l=>{a("close",l)},r=l=>{l.keyCode===Dt.ESC&&(l.stopPropagation(),i(l))},b=()=>{const{open:l,afterVisibleChange:g}=e;g&&g(!!l)},y=l=>{let{level:g,getContainer:v}=l;if(Vt)return;const O=v==null?void 0:v(),k=O?O.parentNode:null;f=[],g==="all"?(k?Array.prototype.slice.call(k.children):[]).forEach(x=>{x.nodeName!=="SCRIPT"&&x.nodeName!=="STYLE"&&x.nodeName!=="LINK"&&x!==O&&f.push(x)}):g&&Ft(g).forEach(I=>{document.querySelectorAll(I).forEach(x=>{f.push(x)})})},P=l=>{a("handleClick",l)},$=G(!1);return R(m,()=>{ce(()=>{$.value=!0})}),()=>{var l,g;const{width:v,height:O,open:k,prefixCls:I,placement:x,level:W,levelMove:ee,ease:ne,duration:fe,getContainer:pe,onChange:S,afterVisibleChange:M,showMask:B,maskClosable:K,maskStyle:H,keyboard:V,getOpenCount:s,scrollLocker:h,contentWrapperStyle:w,style:z,class:X,rootClassName:ae,rootStyle:ie,maskMotion:$e,motion:oe,inline:re}=e,le=Xt(e,["width","height","open","prefixCls","placement","level","levelMove","ease","duration","getContainer","onChange","afterVisibleChange","showMask","maskClosable","maskStyle","keyboard","getOpenCount","scrollLocker","contentWrapperStyle","style","class","rootClassName","rootStyle","maskMotion","motion","inline"]),te=k&&$.value,Se=ue(I,{[`${I}-${x}`]:!0,[`${I}-open`]:te,[`${I}-inline`]:re,"no-mask":!B,[ae]:!0}),se=typeof oe=="function"?oe(x):oe;return c("div",L(L({},Ye(le,["autofocus"])),{},{tabindex:-1,class:Se,style:ie,ref:m,onKeydown:te&&V?r:void 0}),[c(ke,$e,{default:()=>[B&&Oe(c("div",{class:`${I}-mask`,onClick:K?i:void 0,style:H,ref:p},null),[[Pe,te]])]}),c(ke,L(L({},se),{},{onAfterEnter:b,onAfterLeave:b}),{default:()=>[Oe(c("div",{class:`${I}-content-wrapper`,style:[w],ref:o},[c("div",{class:[`${I}-content`,X],style:z,ref:C},[(l=n.default)===null||l===void 0?void 0:l.call(n)]),n.handler?c("div",{onClick:P,ref:d},[(g=n.handler)===null||g===void 0?void 0:g.call(n)]):null]),[[Pe,te]])]})])}}}),Ne=Gt;var Ae=globalThis&&globalThis.__rest||function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(a[n[o]]=e[n[o]]);return a};const Kt=Q({compatConfig:{MODE:3},inheritAttrs:!1,props:Ie(Ht(),{prefixCls:"drawer",placement:"left",getContainer:"body",level:"all",duration:".3s",ease:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",afterVisibleChange:()=>{},showMask:!0,maskClosable:!0,maskStyle:{},wrapperClassName:"",keyboard:!0,forceRender:!1,autofocus:!0}),emits:["handleClick","close"],setup(e,t){let{emit:a,slots:n}=t;const o=j(null),m=d=>{a("handleClick",d)},p=d=>{a("close",d)};return()=>{const{getContainer:d,wrapperClassName:C,rootClassName:f,rootStyle:u,forceRender:i}=e,r=Ae(e,["getContainer","wrapperClassName","rootClassName","rootStyle","forceRender"]);let b=null;if(!d)return c(Ne,L(L({},r),{},{rootClassName:f,rootStyle:u,open:e.open,onClose:p,onHandleClick:m,inline:!0}),n);const y=!!n.handler||i;return(y||e.open||o.value)&&(b=c(Lt,{autoLock:!0,visible:e.open,forceRender:y,getContainer:d,wrapperClassName:C},{default:P=>{var{visible:$,afterClose:l}=P,g=Ae(P,["visible","afterClose"]);return c(Ne,L(L(L({ref:o},r),g),{},{rootClassName:f,rootStyle:u,open:$!==void 0?$:e.open,afterVisibleChange:l!==void 0?l:e.afterVisibleChange,onClose:p,onHandleClick:m}),n)}})),b}}}),Ut=Kt,Yt=e=>{const{componentCls:t,motionDurationSlow:a}=e,n={"&-enter, &-appear, &-leave":{"&-start":{transition:"none"},"&-active":{transition:`all ${a}`}}};return{[t]:{[`${t}-mask-motion`]:{"&-enter, &-appear, &-leave":{"&-active":{transition:`all ${a}`}},"&-enter, &-appear":{opacity:0,"&-active":{opacity:1}},"&-leave":{opacity:1,"&-active":{opacity:0}}},[`${t}-panel-motion`]:{"&-left":[n,{"&-enter, &-appear":{"&-start":{transform:"translateX(-100%) !important"},"&-active":{transform:"translateX(0)"}},"&-leave":{transform:"translateX(0)","&-active":{transform:"translateX(-100%)"}}}],"&-right":[n,{"&-enter, &-appear":{"&-start":{transform:"translateX(100%) !important"},"&-active":{transform:"translateX(0)"}},"&-leave":{transform:"translateX(0)","&-active":{transform:"translateX(100%)"}}}],"&-top":[n,{"&-enter, &-appear":{"&-start":{transform:"translateY(-100%) !important"},"&-active":{transform:"translateY(0)"}},"&-leave":{transform:"translateY(0)","&-active":{transform:"translateY(-100%)"}}}],"&-bottom":[n,{"&-enter, &-appear":{"&-start":{transform:"translateY(100%) !important"},"&-active":{transform:"translateY(0)"}},"&-leave":{transform:"translateY(0)","&-active":{transform:"translateY(100%)"}}}]}}}},qt=Yt,Qt=e=>{const{componentCls:t,zIndexPopup:a,colorBgMask:n,colorBgElevated:o,motionDurationSlow:m,motionDurationMid:p,padding:d,paddingLG:C,fontSizeLG:f,lineHeightLG:u,lineWidth:i,lineType:r,colorSplit:b,marginSM:y,colorIcon:P,colorIconHover:$,colorText:l,fontWeightStrong:g,drawerFooterPaddingVertical:v,drawerFooterPaddingHorizontal:O}=e,k=`${t}-content-wrapper`;return{[t]:{position:"fixed",inset:0,zIndex:a,pointerEvents:"none","&-pure":{position:"relative",background:o,[`&${t}-left`]:{boxShadow:e.boxShadowDrawerLeft},[`&${t}-right`]:{boxShadow:e.boxShadowDrawerRight},[`&${t}-top`]:{boxShadow:e.boxShadowDrawerUp},[`&${t}-bottom`]:{boxShadow:e.boxShadowDrawerDown}},"&-inline":{position:"absolute"},[`${t}-mask`]:{position:"absolute",inset:0,zIndex:a,background:n,pointerEvents:"auto"},[k]:{position:"absolute",zIndex:a,transition:`all ${m}`,"&-hidden":{display:"none"}},[`&-left > ${k}`]:{top:0,bottom:0,left:{_skip_check_:!0,value:0},boxShadow:e.boxShadowDrawerLeft},[`&-right > ${k}`]:{top:0,right:{_skip_check_:!0,value:0},bottom:0,boxShadow:e.boxShadowDrawerRight},[`&-top > ${k}`]:{top:0,insetInline:0,boxShadow:e.boxShadowDrawerUp},[`&-bottom > ${k}`]:{bottom:0,insetInline:0,boxShadow:e.boxShadowDrawerDown},[`${t}-content`]:{width:"100%",height:"100%",overflow:"auto",background:o,pointerEvents:"auto"},[`${t}-wrapper-body`]:{display:"flex",flexDirection:"column",width:"100%",height:"100%"},[`${t}-header`]:{display:"flex",flex:0,alignItems:"center",padding:`${d}px ${C}px`,fontSize:f,lineHeight:u,borderBottom:`${i}px ${r} ${b}`,"&-title":{display:"flex",flex:1,alignItems:"center",minWidth:0,minHeight:0}},[`${t}-extra`]:{flex:"none"},[`${t}-close`]:{display:"inline-block",marginInlineEnd:y,color:P,fontWeight:g,fontSize:f,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",textDecoration:"none",background:"transparent",border:0,outline:0,cursor:"pointer",transition:`color ${p}`,textRendering:"auto","&:focus, &:hover":{color:$,textDecoration:"none"}},[`${t}-title`]:{flex:1,margin:0,color:l,fontWeight:e.fontWeightStrong,fontSize:f,lineHeight:u},[`${t}-body`]:{flex:1,minWidth:0,minHeight:0,padding:C,overflow:"auto"},[`${t}-footer`]:{flexShrink:0,padding:`${v}px ${O}px`,borderTop:`${i}px ${r} ${b}`},"&-rtl":{direction:"rtl"}}}},Zt=Re("Drawer",e=>{const t=Ve(e,{drawerFooterPaddingVertical:e.paddingXS,drawerFooterPaddingHorizontal:e.padding});return[Qt(t),qt(t)]},e=>({zIndexPopup:e.zIndexPopupBase}));var Jt=globalThis&&globalThis.__rest||function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(a[n[o]]=e[n[o]]);return a};const en=["top","right","bottom","left"],je={distance:180},tn=()=>({autofocus:{type:Boolean,default:void 0},closable:{type:Boolean,default:void 0},closeIcon:_.any,destroyOnClose:{type:Boolean,default:void 0},forceRender:{type:Boolean,default:void 0},getContainer:{type:[String,Function,Boolean,Object],default:void 0},maskClosable:{type:Boolean,default:void 0},mask:{type:Boolean,default:void 0},maskStyle:q(),rootClassName:String,rootStyle:q(),size:{type:String},drawerStyle:q(),headerStyle:q(),bodyStyle:q(),contentWrapperStyle:{type:Object,default:void 0},title:_.any,visible:{type:Boolean,default:void 0},open:{type:Boolean,default:void 0},width:_.oneOfType([_.string,_.number]),height:_.oneOfType([_.string,_.number]),zIndex:Number,prefixCls:String,push:_.oneOfType([_.looseBool,{type:Object}]),placement:_.oneOf(en),keyboard:{type:Boolean,default:void 0},extra:_.any,footer:_.any,footerStyle:q(),level:_.any,levelMove:{type:[Number,Array,Function]},handle:_.any,afterVisibleChange:Function,onAfterVisibleChange:Function,onAfterOpenChange:Function,"onUpdate:visible":Function,"onUpdate:open":Function,onClose:Function}),nn=Q({compatConfig:{MODE:3},name:"ADrawer",inheritAttrs:!1,props:Ie(tn(),{closable:!0,placement:"right",maskClosable:!0,mask:!0,level:null,keyboard:!0,push:je}),slots:Object,setup(e,t){let{emit:a,slots:n,attrs:o}=t;const m=G(!1),p=G(!1),d=G(null),C=G(!1),f=G(!1),u=D(()=>{var s;return(s=e.open)!==null&&s!==void 0?s:e.visible});R(u,()=>{u.value?C.value=!0:f.value=!1},{immediate:!0}),R([u,C],()=>{u.value&&C.value&&(f.value=!0)},{immediate:!0});const i=Xe("parentDrawerOpts",null),{prefixCls:r,getPopupContainer:b,direction:y}=be("drawer",e),[P,$]=Zt(r),l=D(()=>e.getContainer===void 0&&(b!=null&&b.value)?()=>b.value(document.body):e.getContainer);Et(!e.afterVisibleChange,"Drawer","`afterVisibleChange` prop is deprecated, please use `@afterVisibleChange` event instead"),xe("parentDrawerOpts",{setPush:()=>{m.value=!0},setPull:()=>{m.value=!1,ce(()=>{O()})}}),me(()=>{u.value&&i&&i.setPush()}),Fe(()=>{i&&i.setPull()}),R(f,()=>{i&&(f.value?i.setPush():i.setPull())},{flush:"post"});const O=()=>{var s,h;(h=(s=d.value)===null||s===void 0?void 0:s.domFocus)===null||h===void 0||h.call(s)},k=s=>{a("update:visible",!1),a("update:open",!1),a("close",s)},I=s=>{var h;s||(p.value===!1&&(p.value=!0),e.destroyOnClose&&(C.value=!1)),(h=e.afterVisibleChange)===null||h===void 0||h.call(e,s),a("afterVisibleChange",s),a("afterOpenChange",s)},x=D(()=>{const{push:s,placement:h}=e;let w;return typeof s=="boolean"?w=s?je.distance:0:w=s.distance,w=parseFloat(String(w||0)),h==="left"||h==="right"?`translateX(${h==="left"?w:-w}px)`:h==="top"||h==="bottom"?`translateY(${h==="top"?w:-w}px)`:null}),W=D(()=>{var s;return(s=e.width)!==null&&s!==void 0?s:e.size==="large"?736:378}),ee=D(()=>{var s;return(s=e.height)!==null&&s!==void 0?s:e.size==="large"?736:378}),ne=D(()=>{const{mask:s,placement:h}=e;if(!f.value&&!s)return{};const w={};return h==="left"||h==="right"?w.width=Ee(W.value)?`${W.value}px`:W.value:w.height=Ee(ee.value)?`${ee.value}px`:ee.value,w}),fe=D(()=>{const{zIndex:s,contentWrapperStyle:h}=e,w=ne.value;return[{zIndex:s,transform:m.value?x.value:void 0},A({},h),w]}),pe=s=>{const{closable:h,headerStyle:w}=e,z=Ce(n,e,"extra"),X=Ce(n,e,"title");return!X&&!h?null:c("div",{class:ue(`${s}-header`,{[`${s}-header-close-only`]:h&&!X&&!z}),style:w},[c("div",{class:`${s}-header-title`},[S(s),X&&c("div",{class:`${s}-title`},[X])]),z&&c("div",{class:`${s}-extra`},[z])])},S=s=>{var h;const{closable:w}=e,z=n.closeIcon?(h=n.closeIcon)===null||h===void 0?void 0:h.call(n):e.closeIcon;return w&&c("button",{key:"closer",onClick:k,"aria-label":"Close",class:`${s}-close`},[z===void 0?c(nt,null,null):z])},M=s=>{var h;if(p.value&&!e.forceRender&&!C.value)return null;const{bodyStyle:w,drawerStyle:z}=e;return c("div",{class:`${s}-wrapper-body`,style:z},[pe(s),c("div",{key:"body",class:`${s}-body`,style:w},[(h=n.default)===null||h===void 0?void 0:h.call(n)]),B(s)])},B=s=>{const h=Ce(n,e,"footer");if(!h)return null;const w=`${s}-footer`;return c("div",{class:w,style:e.footerStyle},[h])},K=D(()=>ue({"no-mask":!e.mask,[`${r.value}-rtl`]:y.value==="rtl"},e.rootClassName,$.value)),H=D(()=>Te(Me(r.value,"mask-motion"))),V=s=>Te(Me(r.value,`panel-motion-${s}`));return()=>{const{width:s,height:h,placement:w,mask:z,forceRender:X}=e,ae=Jt(e,["width","height","placement","mask","forceRender"]),ie=A(A(A({},o),Ye(ae,["size","closeIcon","closable","destroyOnClose","drawerStyle","headerStyle","bodyStyle","title","push","onAfterVisibleChange","onClose","onUpdate:visible","onUpdate:open","visible"])),{forceRender:X,onClose:k,afterVisibleChange:I,handler:!1,prefixCls:r.value,open:f.value,showMask:z,placement:w,ref:d});return P(c(Nt,null,{default:()=>[c(Ut,L(L({},ie),{},{maskMotion:H.value,motion:V,width:W.value,height:ee.value,getContainer:l.value,rootClassName:K.value,rootStyle:e.rootStyle,contentWrapperStyle:fe.value}),{handler:e.handle?()=>e.handle:n.handle,default:()=>M(r.value)})]}))}}}),an=tt(nn),on=()=>({avatar:_.any,description:_.any,prefixCls:String,title:_.any}),Qe=Q({compatConfig:{MODE:3},name:"AListItemMeta",props:on(),displayName:"AListItemMeta",__ANT_LIST_ITEM_META:!0,slots:Object,setup(e,t){let{slots:a}=t;const{prefixCls:n}=be("list",e);return()=>{var o,m,p,d,C,f;const u=`${n.value}-item-meta`,i=(o=e.title)!==null&&o!==void 0?o:(m=a.title)===null||m===void 0?void 0:m.call(a),r=(p=e.description)!==null&&p!==void 0?p:(d=a.description)===null||d===void 0?void 0:d.call(a),b=(C=e.avatar)!==null&&C!==void 0?C:(f=a.avatar)===null||f===void 0?void 0:f.call(a),y=c("div",{class:`${n.value}-item-meta-content`},[i&&c("h4",{class:`${n.value}-item-meta-title`},[i]),r&&c("div",{class:`${n.value}-item-meta-description`},[r])]);return c("div",{class:u},[b&&c("div",{class:`${n.value}-item-meta-avatar`},[b]),(i||r)&&y])}}}),Ze=Symbol("ListContextKey");var ln=globalThis&&globalThis.__rest||function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(a[n[o]]=e[n[o]]);return a};const rn=()=>({prefixCls:String,extra:_.any,actions:_.array,grid:Object,colStyle:{type:Object,default:void 0}}),Je=Q({compatConfig:{MODE:3},name:"AListItem",inheritAttrs:!1,Meta:Qe,props:rn(),slots:Object,setup(e,t){let{slots:a,attrs:n}=t;const{itemLayout:o,grid:m}=Xe(Ze,{grid:j(),itemLayout:j()}),{prefixCls:p}=be("list",e),d=()=>{var f;const u=((f=a.default)===null||f===void 0?void 0:f.call(a))||[];let i;return u.forEach(r=>{at(r)&&!ot(r)&&(i=!0)}),i&&u.length>1},C=()=>{var f,u;const i=(f=e.extra)!==null&&f!==void 0?f:(u=a.extra)===null||u===void 0?void 0:u.call(a);return o.value==="vertical"?!!i:!d()};return()=>{var f,u,i,r,b;const{class:y}=n,P=ln(n,["class"]),$=p.value,l=(f=e.extra)!==null&&f!==void 0?f:(u=a.extra)===null||u===void 0?void 0:u.call(a),g=(i=a.default)===null||i===void 0?void 0:i.call(a);let v=(r=e.actions)!==null&&r!==void 0?r:Ge((b=a.actions)===null||b===void 0?void 0:b.call(a));v=v&&!Array.isArray(v)?[v]:v;const O=v&&v.length>0&&c("ul",{class:`${$}-item-action`,key:"actions"},[v.map((x,W)=>c("li",{key:`${$}-item-action-${W}`},[x,W!==v.length-1&&c("em",{class:`${$}-item-action-split`},null)]))]),k=m.value?"div":"li",I=c(k,L(L({},P),{},{class:ue(`${$}-item`,{[`${$}-item-no-flex`]:!C()},y)}),{default:()=>[o.value==="vertical"&&l?[c("div",{class:`${$}-item-main`,key:"content"},[g,O]),c("div",{class:`${$}-item-extra`,key:"extra"},[l])]:[g,O,zt(l,{key:"extra"})]]});return m.value?c(Tt,{flex:1,style:e.colStyle},{default:()=>[I]}):I}}}),sn=e=>{const{listBorderedCls:t,componentCls:a,paddingLG:n,margin:o,padding:m,listItemPaddingSM:p,marginLG:d,borderRadiusLG:C}=e;return{[`${t}`]:{border:`${e.lineWidth}px ${e.lineType} ${e.colorBorder}`,borderRadius:C,[`${a}-header,${a}-footer,${a}-item`]:{paddingInline:n},[`${a}-pagination`]:{margin:`${o}px ${d}px`}},[`${t}${a}-sm`]:{[`${a}-item,${a}-header,${a}-footer`]:{padding:p}},[`${t}${a}-lg`]:{[`${a}-item,${a}-header,${a}-footer`]:{padding:`${m}px ${n}px`}}}},cn=e=>{const{componentCls:t,screenSM:a,screenMD:n,marginLG:o,marginSM:m,margin:p}=e;return{[`@media screen and (max-width:${n})`]:{[`${t}`]:{[`${t}-item`]:{[`${t}-item-action`]:{marginInlineStart:o}}},[`${t}-vertical`]:{[`${t}-item`]:{[`${t}-item-extra`]:{marginInlineStart:o}}}},[`@media screen and (max-width: ${a})`]:{[`${t}`]:{[`${t}-item`]:{flexWrap:"wrap",[`${t}-action`]:{marginInlineStart:m}}},[`${t}-vertical`]:{[`${t}-item`]:{flexWrap:"wrap-reverse",[`${t}-item-main`]:{minWidth:e.contentWidth},[`${t}-item-extra`]:{margin:`auto auto ${p}px`}}}}}},dn=e=>{const{componentCls:t,antCls:a,controlHeight:n,minHeight:o,paddingSM:m,marginLG:p,padding:d,listItemPadding:C,colorPrimary:f,listItemPaddingSM:u,listItemPaddingLG:i,paddingXS:r,margin:b,colorText:y,colorTextDescription:P,motionDurationSlow:$,lineWidth:l}=e;return{[`${t}`]:A(A({},lt(e)),{position:"relative","*":{outline:"none"},[`${t}-header, ${t}-footer`]:{background:"transparent",paddingBlock:m},[`${t}-pagination`]:{marginBlockStart:p,textAlign:"end",[`${a}-pagination-options`]:{textAlign:"start"}},[`${t}-spin`]:{minHeight:o,textAlign:"center"},[`${t}-items`]:{margin:0,padding:0,listStyle:"none"},[`${t}-item`]:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:C,color:y,[`${t}-item-meta`]:{display:"flex",flex:1,alignItems:"flex-start",maxWidth:"100%",[`${t}-item-meta-avatar`]:{marginInlineEnd:d},[`${t}-item-meta-content`]:{flex:"1 0",width:0,color:y},[`${t}-item-meta-title`]:{marginBottom:e.marginXXS,color:y,fontSize:e.fontSize,lineHeight:e.lineHeight,"> a":{color:y,transition:`all ${$}`,"&:hover":{color:f}}},[`${t}-item-meta-description`]:{color:P,fontSize:e.fontSize,lineHeight:e.lineHeight}},[`${t}-item-action`]:{flex:"0 0 auto",marginInlineStart:e.marginXXL,padding:0,fontSize:0,listStyle:"none","& > li":{position:"relative",display:"inline-block",padding:`0 ${r}px`,color:P,fontSize:e.fontSize,lineHeight:e.lineHeight,textAlign:"center","&:first-child":{paddingInlineStart:0}},[`${t}-item-action-split`]:{position:"absolute",insetBlockStart:"50%",insetInlineEnd:0,width:l,height:Math.ceil(e.fontSize*e.lineHeight)-e.marginXXS*2,transform:"translateY(-50%)",backgroundColor:e.colorSplit}}},[`${t}-empty`]:{padding:`${d}px 0`,color:P,fontSize:e.fontSizeSM,textAlign:"center"},[`${t}-empty-text`]:{padding:d,color:e.colorTextDisabled,fontSize:e.fontSize,textAlign:"center"},[`${t}-item-no-flex`]:{display:"block"}}),[`${t}-grid ${a}-col > ${t}-item`]:{display:"block",maxWidth:"100%",marginBlockEnd:b,paddingBlock:0,borderBlockEnd:"none"},[`${t}-vertical ${t}-item`]:{alignItems:"initial",[`${t}-item-main`]:{display:"block",flex:1},[`${t}-item-extra`]:{marginInlineStart:p},[`${t}-item-meta`]:{marginBlockEnd:d,[`${t}-item-meta-title`]:{marginBlockEnd:m,color:y,fontSize:e.fontSizeLG,lineHeight:e.lineHeightLG}},[`${t}-item-action`]:{marginBlockStart:d,marginInlineStart:"auto","> li":{padding:`0 ${d}px`,"&:first-child":{paddingInlineStart:0}}}},[`${t}-split ${t}-item`]:{borderBlockEnd:`${e.lineWidth}px ${e.lineType} ${e.colorSplit}`,"&:last-child":{borderBlockEnd:"none"}},[`${t}-split ${t}-header`]:{borderBlockEnd:`${e.lineWidth}px ${e.lineType} ${e.colorSplit}`},[`${t}-split${t}-empty ${t}-footer`]:{borderTop:`${e.lineWidth}px ${e.lineType} ${e.colorSplit}`},[`${t}-loading ${t}-spin-nested-loading`]:{minHeight:n},[`${t}-split${t}-something-after-last-item ${a}-spin-container > ${t}-items > ${t}-item:last-child`]:{borderBlockEnd:`${e.lineWidth}px ${e.lineType} ${e.colorSplit}`},[`${t}-lg ${t}-item`]:{padding:i},[`${t}-sm ${t}-item`]:{padding:u},[`${t}:not(${t}-vertical)`]:{[`${t}-item-no-flex`]:{[`${t}-item-action`]:{float:"right"}}}}},un=Re("List",e=>{const t=Ve(e,{listBorderedCls:`${e.componentCls}-bordered`,minHeight:e.controlHeightLG,listItemPadding:`${e.paddingContentVertical}px ${e.paddingContentHorizontalLG}px`,listItemPaddingSM:`${e.paddingContentVerticalSM}px ${e.paddingContentHorizontal}px`,listItemPaddingLG:`${e.paddingContentVerticalLG}px ${e.paddingContentHorizontalLG}px`});return[dn(t),sn(t),cn(t)]},{contentWidth:220}),mn=()=>({bordered:Le(),dataSource:He(),extra:ge(),grid:q(),itemLayout:String,loading:we([Boolean,Object]),loadMore:ge(),pagination:we([Boolean,Object]),prefixCls:String,rowKey:we([String,Number,Function]),renderItem:We(),size:String,split:Le(),header:ge(),footer:ge(),locale:q()}),J=Q({compatConfig:{MODE:3},name:"AList",inheritAttrs:!1,Item:Je,props:Ie(mn(),{dataSource:[],bordered:!1,split:!0,loading:!1,pagination:!1}),slots:Object,setup(e,t){let{slots:a,attrs:n}=t;var o,m;xe(Ze,{grid:De(e,"grid"),itemLayout:De(e,"itemLayout")});const p={current:1,total:0},{prefixCls:d,direction:C,renderEmpty:f}=be("list",e),[u,i]=un(d),r=D(()=>e.pagination&&typeof e.pagination=="object"?e.pagination:{}),b=j((o=r.value.defaultCurrent)!==null&&o!==void 0?o:1),y=j((m=r.value.defaultPageSize)!==null&&m!==void 0?m:10);R(r,()=>{"current"in r.value&&(b.value=r.value.current),"pageSize"in r.value&&(y.value=r.value.pageSize)});const P=[],$=S=>(M,B)=>{b.value=M,y.value=B,r.value[S]&&r.value[S](M,B)},l=$("onChange"),g=$("onShowSizeChange"),v=D(()=>typeof e.loading=="boolean"?{spinning:e.loading}:e.loading),O=D(()=>v.value&&v.value.spinning),k=D(()=>{let S="";switch(e.size){case"large":S="lg";break;case"small":S="sm";break}return S}),I=D(()=>({[`${d.value}`]:!0,[`${d.value}-vertical`]:e.itemLayout==="vertical",[`${d.value}-${k.value}`]:k.value,[`${d.value}-split`]:e.split,[`${d.value}-bordered`]:e.bordered,[`${d.value}-loading`]:O.value,[`${d.value}-grid`]:!!e.grid,[`${d.value}-rtl`]:C.value==="rtl"})),x=D(()=>{const S=A(A(A({},p),{total:e.dataSource.length,current:b.value,pageSize:y.value}),e.pagination||{}),M=Math.ceil(S.total/S.pageSize);return S.current>M&&(S.current=M),S}),W=D(()=>{let S=[...e.dataSource];return e.pagination&&e.dataSource.length>(x.value.current-1)*x.value.pageSize&&(S=[...e.dataSource].splice((x.value.current-1)*x.value.pageSize,x.value.pageSize)),S}),ee=It(),ne=kt(()=>{for(let S=0;S<Be.length;S+=1){const M=Be[S];if(ee.value[M])return M}}),fe=D(()=>{if(!e.grid)return;const S=ne.value&&e.grid[ne.value]?e.grid[ne.value]:e.grid.column;if(S)return{width:`${100/S}%`,maxWidth:`${100/S}%`}}),pe=(S,M)=>{var B;const K=(B=e.renderItem)!==null&&B!==void 0?B:a.renderItem;if(!K)return null;let H;const V=typeof e.rowKey;return V==="function"?H=e.rowKey(S):V==="string"||V==="number"?H=S[e.rowKey]:H=S.key,H||(H=`list-item-${M}`),P[M]=H,K({item:S,index:M})};return()=>{var S,M,B,K,H,V,s,h;const w=(S=e.loadMore)!==null&&S!==void 0?S:(M=a.loadMore)===null||M===void 0?void 0:M.call(a),z=(B=e.footer)!==null&&B!==void 0?B:(K=a.footer)===null||K===void 0?void 0:K.call(a),X=(H=e.header)!==null&&H!==void 0?H:(V=a.header)===null||V===void 0?void 0:V.call(a),ae=Ge((s=a.default)===null||s===void 0?void 0:s.call(a)),ie=!!(w||e.pagination||z),$e=ue(A(A({},I.value),{[`${d.value}-something-after-last-item`]:ie}),n.class,i.value),oe=e.pagination?c("div",{class:`${d.value}-pagination`},[c(Pt,L(L({},x.value),{},{onChange:l,onShowSizeChange:g}),null)]):null;let re=O.value&&c("div",{style:{minHeight:"53px"}},null);if(W.value.length>0){P.length=0;const te=W.value.map((se,_e)=>pe(se,_e)),Se=te.map((se,_e)=>c("div",{key:P[_e],style:fe.value},[se]));re=e.grid?c(Mt,{gutter:e.grid.gutter},{default:()=>[Se]}):c("ul",{class:`${d.value}-items`},[te])}else!ae.length&&!O.value&&(re=c("div",{class:`${d.value}-empty-text`},[((h=e.locale)===null||h===void 0?void 0:h.emptyText)||f("List")]));const le=x.value.position||"bottom";return u(c("div",L(L({},n),{},{class:$e}),[(le==="top"||le==="both")&&oe,X&&c("div",{class:`${d.value}-header`},[X]),c(Ot,v.value,{default:()=>[re,ae]}),z&&c("div",{class:`${d.value}-footer`},[z]),w||(le==="bottom"||le==="both")&&oe]))}}});J.install=function(e){return e.component(J.name,J),e.component(J.Item.name,J.Item),e.component(J.Item.Meta.name,J.Item.Meta),e};const fn=J,et=e=>(rt("data-v-b3235b33"),e=e(),st(),e),pn={class:"text-ellipsis url-wrap"},gn=["href"],vn={class:"time-wrap"},hn={class:"infinite-loading"},yn=["src"],bn=et(()=>T("span",{class:"infinite-complete"}," Load complete ",-1)),$n=et(()=>T("span",{class:"infinite-error"}," Load failed, please try again ",-1)),Sn=Q({__name:"HistoryList",setup(e){const t=Math.max(Math.ceil(screen.height/100),5),a=j(1),n=j([]),o=j(!0),m=j(!1),p=j(!1);function d(u){return u.map(i=>({id:i.id,type:i.type,publicId:i.targetDetail.publicId,favIconUrl:i.targetDetail.favIconUrl,title:i.targetDetail.title,description:i.targetDetail.lastQuestion,displayPictrue:i.targetDetail.displayPictrue,url:i.targetDetail.url,createTime:dt(i.createTime),loading:!1}))}function C(){if(!m.value)return m.value=!0,xt({size:t,num:a.value}).then(u=>{if(u.code===ct.Success)a.value++,n.value=n.value.concat(d(u.data.records)),n.value.length===u.data.total&&(p.value=!0);else return Promise.reject("error")}).catch(u=>Promise.reject(u)).finally(()=>{m.value=!1,o.value=!1})}me(()=>{});const f=({loading:u,complete:i,error:r,loaded:b})=>{var y;if(p.value){i();return}u(),(y=C())==null||y.then(()=>{b(),p.value&&i()}).catch(()=>{r()})};return(u,i)=>{const r=wt,b=Qe,y=Je,P=fn;return E(),de(P,{loading:o.value,rowKey:"id","item-layout":"vertical","data-source":n.value},{renderItem:N(({item:$})=>[c(y,null,{default:N(()=>[c(b,{onClick:l=>u.$emit("item-click",$),description:$.description,class:Ke($.description?"has-desc":"no-desc")},{title:N(()=>[T("span",null,F($.title),1)]),avatar:N(()=>[c(r,{class:"border",size:44,src:$.displayPictrue},null,8,["src"])]),_:2},1032,["onClick","description","class"]),T("div",pn,[$.favIconUrl?(E(),de(r,{key:0,shape:"square",size:16,src:$.favIconUrl},null,8,["src"])):he("",!0),T("a",{onClick:i[0]||(i[0]=it(()=>{},["stop"])),href:$.url,target:"_blank"},F($.url),9,gn)]),T("div",vn,F($.createTime),1)]),_:2},1024)]),footer:N(()=>[c(Y(Ct),{firstload:!0,top:!1,onInfinite:f},{spinner:N(()=>[T("span",hn,[o.value?he("",!0):(E(),U(ye,{key:0},[T("img",{alt:"",class:"anticon-spin",src:Y(ve)},null,8,yn),Z(" Loading... ")],64))])]),complete:N(()=>[bn]),error:N(()=>[$n]),_:1})]),_:1},8,["loading","data-source"])}}});const _n=Ue(Sn,[["__scopeId","data-v-b3235b33"]]),Cn=Q({__name:"Drawer",props:{title:{},height:{default:"78%"},open:{type:Boolean,default:!1}},emits:["opened","closed","update:open"],setup(e,{emit:t}){var u;const a=e,n=t,o=ut(),m=(u=o.trigger)==null?void 0:u.call(o)[0],p=j(!1),d=i=>{n(i?"opened":"closed")};R(()=>a.open,i=>{p.value=i}),R(()=>p.value,i=>{n("update:open",i)});function C(){p.value=!0}function f(){p.value=!1}return me(()=>{}),(i,r)=>{const b=an;return E(),U(ye,null,[c(Y(m),{class:Ke({"_wl-opened":p.value}),onClick:C},null,8,["class"]),c(b,{open:p.value,"onUpdate:open":r[0]||(r[0]=y=>p.value=y),title:i.title,height:i.height,placement:"bottom",onAfterOpenChange:d},{default:N(()=>[mt(i.$slots,"default",{hide:f})]),_:3},8,["open","title","height"])],64)}}}),wn="/history.svg",xn="/home.svg",In={class:"sidepanel-wrap"},kn={class:"_wl-side-header"},On={class:"_wl-logo-wrap"},Pn=["src"],Tn=["src"],Mn={class:"_wl-icon_wrap"},Dn={class:"_wl-icon"},Ln={key:0,class:"tabs-content-wrap"},zn=["src"],Bn=["src"],En=["src"],Nn={key:1},An=Q({__name:"Sidepanel",setup(e){function t(){y.value=!0}xe(_t,t);const a=j(!0);function n(){a.value=!1,ce(()=>{a.value=!0})}const o=ft(),m=D(()=>o.contact||{name:""});function p(){r.publicId&&r.pageType==="profile"&&o.getContact(r.publicId)}const d=vt();ht();const C=pt();function f(l){b.value=l.publicId||"",C.setSessionInfo(l)}const u=j("Chat");function i(){yt({replace:!1})}R(()=>d,l=>{u.value=l.name},{immediate:!0});const r=gt();chrome.tabs.onUpdated.addListener(async(l,g,v)=>(g.status==="loading"&&g.url&&r.setCurrentTab(v),!0)),chrome.tabs.onActivated.addListener(async l=>{const g=await new Promise(v=>{chrome.tabs.get(l.tabId,O=>{v(O)})});return r.setCurrentTab(g),!0});const b=j("");me(async()=>{await r.setCurrentTab(),await p(),b.value=r.publicId,R([()=>r.pageType,()=>r.publicId],()=>{r.pageType==="profile"&&r.publicId!==b.value?(o.setContact(null),y.value=!0,p()):y.value=!1},{})});const y=j(!1);function P(){m.value.name&&(y.value=!1,b.value=r.publicId,n())}function $(){y.value=!1,chrome.runtime.sendMessage({action:bt.CancelSwitchContact})}return(l,g)=>{const v=ze("wl-svg"),O=_n,k=ze("router-view"),I=Bt;return E(),U("div",In,[T("div",kn,[T("div",On,[T("img",{alt:"",class:"_wl-logo-icon",src:Y(At)},null,8,Pn),T("img",{alt:"",class:"_wl-logo-text",src:Y(jt)},null,8,Tn)]),T("div",Mn,[c(Cn,{title:l.$i18n("session_history")},{trigger:N(()=>[T("a",Dn,[c(v,{src:Y(wn)},null,8,["src"]),T("span",null,F(l.$i18n("history")),1)])]),default:N(({hide:x})=>[a.value?(E(),de(O,{key:0,onItemClick:W=>{f(W),x()}},null,8,["onItemClick"])):he("",!0)]),_:1},8,["title"]),T("a",{class:"_wl-icon",onClick:i},[c(v,{src:Y(xn)},null,8,["src"]),T("span",null,F(l.$i18n("home")),1)])])]),a.value?(E(),U("div",Ln,[c(k,null,{default:N(({Component:x})=>[(E(),de(St,null,[(E(),de($t(x)))],1024))]),_:1})])):he("",!0),c(I,{open:y.value,"onUpdate:open":g[0]||(g[0]=x=>y.value=x),cancelText:l.$i18n("continue"),onOk:P,onCancel:$},{title:N(()=>[T("span",null,[Z(F(l.$i18n("switch_to"))+" ",1),m.value.name?(E(),U(ye,{key:1},[Z(F(m.value.name),1)],64)):(E(),U("img",{key:0,alt:"",class:"anticon-spin",src:Y(ve)},null,8,zn)),Z(" ?")])]),okText:N(()=>[T("span",null,[Z(F(l.$i18n("switch_to"))+" ",1),m.value.name?(E(),U(ye,{key:1},[Z(F(m.value.name),1)],64)):(E(),U("img",{key:0,alt:"",class:"anticon-spin",src:Y(ve)},null,8,Bn))])]),default:N(()=>[T("p",null,[Z(F(l.$i18n("switching_operate"))+" ",1),m.value.name?(E(),U("strong",Nn,F(m.value.name),1)):(E(),U("img",{key:0,alt:"",class:"anticon-spin",src:Y(ve)},null,8,En)),Z(F(l.$i18n("choose_to_continue")),1)])]),_:1},8,["open","cancelText"])])}}});const Jn=Ue(An,[["__scopeId","data-v-d9c5ba9c"]]);export{Jn as default};
