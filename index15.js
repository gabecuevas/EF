import{j as q,r as k,w as R,h as s,z as H,k as w,B as F,P as Y,e as re,a6 as le,f as ie,a2 as N,a7 as se,a0 as S,ab as W,a9 as _,aa as ce,l as Z,a8 as de,t as ue,n as G,aq as be,y as fe,x as he,a4 as ve,ag as pe,p as me}from"./permission.js";import{i as ge}from"./styleChecker.js";import{u as ee,F as xe}from"./FormItemContext.js";var Ce=globalThis&&globalThis.__rest||function(e,a){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)a.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(t[n[i]]=e[n[i]]);return t};const ye={prefixCls:String,name:String,id:String,type:String,defaultChecked:{type:[Boolean,Number],default:void 0},checked:{type:[Boolean,Number],default:void 0},disabled:Boolean,tabindex:{type:[Number,String]},readonly:Boolean,autofocus:Boolean,value:Y.any,required:Boolean},$e=q({compatConfig:{MODE:3},name:"Checkbox",inheritAttrs:!1,props:ge(ye,{prefixCls:"rc-checkbox",type:"checkbox",defaultChecked:!1}),emits:["click","change"],setup(e,a){let{attrs:t,emit:n,expose:i}=a;const g=k(e.checked===void 0?e.defaultChecked:e.checked),v=k();R(()=>e.checked,()=>{g.value=e.checked}),i({focus(){var o;(o=v.value)===null||o===void 0||o.focus()},blur(){var o;(o=v.value)===null||o===void 0||o.blur()}});const x=k(),b=o=>{if(e.disabled)return;e.checked===void 0&&(g.value=o.target.checked),o.shiftKey=x.value;const I={target:s(s({},e),{checked:o.target.checked}),stopPropagation(){o.stopPropagation()},preventDefault(){o.preventDefault()},nativeEvent:o};e.checked!==void 0&&(v.value.checked=!!e.checked),n("change",I),x.value=!1},C=o=>{n("click",o),x.value=o.shiftKey};return()=>{const{prefixCls:o,name:I,id:f,type:p,disabled:c,readonly:y,tabindex:D,autofocus:M,value:$,required:A}=e,l=Ce(e,["prefixCls","name","id","type","disabled","readonly","tabindex","autofocus","value","required"]),{class:r,onFocus:u,onBlur:d,onKeydown:h,onKeypress:j,onKeyup:T}=t,B=s(s({},l),t),O=Object.keys(B).reduce((V,P)=>((P.startsWith("data-")||P.startsWith("aria-")||P==="role")&&(V[P]=B[P]),V),{}),X=H(o,r,{[`${o}-checked`]:g.value,[`${o}-disabled`]:c}),K=s(s({name:I,id:f,type:p,readonly:y,disabled:c,tabindex:D,class:`${o}-input`,checked:!!g.value,autofocus:M,value:$},O),{onChange:b,onClick:C,onFocus:u,onBlur:d,onKeydown:h,onKeypress:j,onKeyup:T,required:A});return w("span",{class:X},[w("input",F({ref:v},K),null),w("span",{class:`${o}-inner`},null)])}}}),Se=new le("antCheckboxEffect",{"0%":{transform:"scale(1)",opacity:.5},"100%":{transform:"scale(1.6)",opacity:0}}),ke=e=>{const{checkboxCls:a}=e,t=`${a}-wrapper`;return[{[`${a}-group`]:s(s({},N(e)),{display:"inline-flex",flexWrap:"wrap",columnGap:e.marginXS,[`> ${e.antCls}-row`]:{flex:1}}),[t]:s(s({},N(e)),{display:"inline-flex",alignItems:"baseline",cursor:"pointer","&:after":{display:"inline-block",width:0,overflow:"hidden",content:"'\\a0'"},[`& + ${t}`]:{marginInlineStart:0},[`&${t}-in-form-item`]:{'input[type="checkbox"]':{width:14,height:14}}}),[a]:s(s({},N(e)),{position:"relative",whiteSpace:"nowrap",lineHeight:1,cursor:"pointer",alignSelf:"center",[`${a}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0,margin:0,[`&:focus-visible + ${a}-inner`]:s({},se(e))},[`${a}-inner`]:{boxSizing:"border-box",position:"relative",top:0,insetInlineStart:0,display:"block",width:e.checkboxSize,height:e.checkboxSize,direction:"ltr",backgroundColor:e.colorBgContainer,border:`${e.lineWidth}px ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,borderCollapse:"separate",transition:`all ${e.motionDurationSlow}`,"&:after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"21.5%",display:"table",width:e.checkboxSize/14*5,height:e.checkboxSize/14*8,border:`${e.lineWidthBold}px solid ${e.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${e.motionDurationFast} ${e.motionEaseInBack}, opacity ${e.motionDurationFast}`}},"& + span":{paddingInlineStart:e.paddingXS,paddingInlineEnd:e.paddingXS}})},{[a]:{"&-indeterminate":{[`${a}-inner`]:{"&:after":{top:"50%",insetInlineStart:"50%",width:e.fontSizeLG/2,height:e.fontSizeLG/2,backgroundColor:e.colorPrimary,border:0,transform:"translate(-50%, -50%) scale(1)",opacity:1,content:'""'}}}}},{[`${t}:hover ${a}:after`]:{visibility:"visible"},[`
        ${t}:not(${t}-disabled),
        ${a}:not(${a}-disabled)
      `]:{[`&:hover ${a}-inner`]:{borderColor:e.colorPrimary}},[`${t}:not(${t}-disabled)`]:{[`&:hover ${a}-checked:not(${a}-disabled) ${a}-inner`]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"},[`&:hover ${a}-checked:not(${a}-disabled):after`]:{borderColor:e.colorPrimaryHover}}},{[`${a}-checked`]:{[`${a}-inner`]:{backgroundColor:e.colorPrimary,borderColor:e.colorPrimary,"&:after":{opacity:1,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`all ${e.motionDurationMid} ${e.motionEaseOutBack} ${e.motionDurationFast}`}},"&:after":{position:"absolute",top:0,insetInlineStart:0,width:"100%",height:"100%",borderRadius:e.borderRadiusSM,visibility:"hidden",border:`${e.lineWidthBold}px solid ${e.colorPrimary}`,animationName:Se,animationDuration:e.motionDurationSlow,animationTimingFunction:"ease-in-out",animationFillMode:"backwards",content:'""',transition:`all ${e.motionDurationSlow}`}},[`
        ${t}-checked:not(${t}-disabled),
        ${a}-checked:not(${a}-disabled)
      `]:{[`&:hover ${a}-inner`]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"},[`&:hover ${a}:after`]:{borderColor:e.colorPrimaryHover}}},{[`${t}-disabled`]:{cursor:"not-allowed"},[`${a}-disabled`]:{[`&, ${a}-input`]:{cursor:"not-allowed",pointerEvents:"none"},[`${a}-inner`]:{background:e.colorBgContainerDisabled,borderColor:e.colorBorder,"&:after":{borderColor:e.colorTextDisabled}},"&:after":{display:"none"},"& + span":{color:e.colorTextDisabled},[`&${a}-indeterminate ${a}-inner::after`]:{background:e.colorTextDisabled}}}]};function we(e,a){const t=ie(a,{checkboxCls:`.${e}`,checkboxSize:a.controlInteractiveSize});return[ke(t)]}const ae=re("Checkbox",(e,a)=>{let{prefixCls:t}=a;return[we(t,e)]}),Ie=()=>({name:String,prefixCls:String,options:W([]),disabled:Boolean,id:String}),Oe=()=>s(s({},Ie()),{defaultValue:W(),value:W(),onChange:_(),"onUpdate:value":_()}),Pe=()=>({prefixCls:String,defaultChecked:S(),checked:S(),disabled:S(),isGroup:S(),value:Y.any,name:String,id:String,indeterminate:S(),type:ce("checkbox"),autofocus:S(),onChange:_(),"onUpdate:checked":_(),onClick:_(),skipGroup:S(!1)}),De=()=>s(s({},Pe()),{indeterminate:S(!1)}),te=Symbol("CheckboxGroupContext");var Q=globalThis&&globalThis.__rest||function(e,a){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)a.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(t[n[i]]=e[n[i]]);return t};const E=q({compatConfig:{MODE:3},name:"ACheckbox",inheritAttrs:!1,__ANT_CHECKBOX:!0,props:De(),setup(e,a){let{emit:t,attrs:n,slots:i,expose:g}=a;const v=ee(),x=xe.useInject(),{prefixCls:b,direction:C,disabled:o}=Z("checkbox",e),I=de(),[f,p]=ae(b),c=ue(te,void 0),y=Symbol("checkboxUniId"),D=G(()=>(c==null?void 0:c.disabled.value)||o.value);be(()=>{!e.skipGroup&&c&&c.registerValue(y,e.value)}),fe(()=>{c&&c.cancelValue(y)}),he(()=>{ve(!!(e.checked!==void 0||c||e.value===void 0))});const M=r=>{const u=r.target.checked;t("update:checked",u),t("change",r),v.onFieldChange()},$=k();return g({focus:()=>{var r;(r=$.value)===null||r===void 0||r.focus()},blur:()=>{var r;(r=$.value)===null||r===void 0||r.blur()}}),()=>{var r;const u=pe((r=i.default)===null||r===void 0?void 0:r.call(i)),{indeterminate:d,skipGroup:h,id:j=v.id.value}=e,T=Q(e,["indeterminate","skipGroup","id"]),{onMouseenter:B,onMouseleave:O,onInput:X,class:K,style:V}=n,P=Q(n,["onMouseenter","onMouseleave","onInput","class","style"]),m=s(s(s(s({},T),{id:j,prefixCls:b.value}),P),{disabled:D.value});c&&!h?(m.onChange=function(){for(var L=arguments.length,J=new Array(L),z=0;z<L;z++)J[z]=arguments[z];t("change",...J),c.toggleOption({label:u,value:e.value})},m.name=c.name.value,m.checked=c.mergedValue.value.includes(e.value),m.disabled=D.value||I.value,m.indeterminate=d):m.onChange=M;const ne=H({[`${b.value}-wrapper`]:!0,[`${b.value}-rtl`]:C.value==="rtl",[`${b.value}-wrapper-checked`]:m.checked,[`${b.value}-wrapper-disabled`]:m.disabled,[`${b.value}-wrapper-in-form-item`]:x.isFormItemInput},K,p.value),oe=H({[`${b.value}-indeterminate`]:d},p.value);return f(w("label",{class:ne,style:V,onMouseenter:B,onMouseleave:O},[w($e,F(F({"aria-checked":d?"mixed":void 0},m),{},{class:oe,ref:$}),null),u.length?w("span",null,[u]):null]))}}}),U=q({compatConfig:{MODE:3},name:"ACheckboxGroup",inheritAttrs:!1,props:Oe(),setup(e,a){let{slots:t,attrs:n,emit:i,expose:g}=a;const v=ee(),{prefixCls:x,direction:b}=Z("checkbox",e),C=G(()=>`${x.value}-group`),[o,I]=ae(C),f=k((e.value===void 0?e.defaultValue:e.value)||[]);R(()=>e.value,()=>{f.value=e.value||[]});const p=G(()=>e.options.map(l=>typeof l=="string"||typeof l=="number"?{label:l,value:l}:l)),c=k(Symbol()),y=k(new Map),D=l=>{y.value.delete(l),c.value=Symbol()},M=(l,r)=>{y.value.set(l,r),c.value=Symbol()},$=k(new Map);return R(c,()=>{const l=new Map;for(const r of y.value.values())l.set(r,!0);$.value=l}),me(te,{cancelValue:D,registerValue:M,toggleOption:l=>{const r=f.value.indexOf(l.value),u=[...f.value];r===-1?u.push(l.value):u.splice(r,1),e.value===void 0&&(f.value=u);const d=u.filter(h=>$.value.has(h)).sort((h,j)=>{const T=p.value.findIndex(O=>O.value===h),B=p.value.findIndex(O=>O.value===j);return T-B});i("update:value",d),i("change",d),v.onFieldChange()},mergedValue:f,name:G(()=>e.name),disabled:G(()=>e.disabled)}),g({mergedValue:f}),()=>{var l;const{id:r=v.id.value}=e;let u=null;return p.value&&p.value.length>0&&(u=p.value.map(d=>{var h;return w(E,{prefixCls:x.value,key:d.value.toString(),disabled:"disabled"in d?d.disabled:e.disabled,indeterminate:d.indeterminate,value:d.value,checked:f.value.indexOf(d.value)!==-1,onChange:d.onChange,class:`${C.value}-item`},{default:()=>[t.label!==void 0?(h=t.label)===null||h===void 0?void 0:h.call(t,d):d.label]})})),o(w("div",F(F({},n),{},{class:[C.value,{[`${C.value}-rtl`]:b.value==="rtl"},n.class,I.value],id:r}),[u||((l=t.default)===null||l===void 0?void 0:l.call(t))]))}}});E.Group=U;E.install=function(e){return e.component(E.name,E),e.component(U.name,U),e};export{E as C,$e as V,we as g};
